<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" type="text/css" href="style.css">
</head>
<body>
<div id="fc" class="frame-cont">
</div>
</body>
<script>
// This data is from test_sum/capture.basic.flm
// piped through Server.hx, and pasted here.
// TODO: communicate with Server.hx, server page
//       and data via ajax
var frames = [
{"id":0,"duration":{"as":9225,"gc":63786,"total":84648}},
{"id":1,"duration":{"as":2,"gc":3132,"total":14657}},
{"id":2,"duration":{"as":5734,"gc":25,"total":17010}},
{"id":3,"duration":{"as":4069,"gc":22,"total":21815}},
{"id":4,"duration":{"as":5613,"gc":25,"total":23074}},
{"id":5,"duration":{"as":5045,"gc":24,"total":22282}},
{"id":6,"duration":{"as":4195,"gc":20,"total":22341}},
{"id":7,"duration":{"as":4908,"gc":20,"total":22440}},
{"id":8,"duration":{"as":5295,"gc":23,"total":22446}},
{"id":9,"duration":{"as":4710,"gc":21,"total":22596}},
{"id":10,"duration":{"as":4712,"gc":21,"total":22511}},
{"id":11,"duration":{"as":7955,"gc":36,"total":25545}},
{"id":12,"duration":{"as":6033,"gc":27,"total":23225}},
{"id":13,"duration":{"as":5677,"gc":28,"total":22845}},
{"id":14,"duration":{"as":4736,"gc":23,"total":21950}},
{"id":15,"duration":{"as":6034,"gc":28,"total":23893}},
{"id":16,"duration":{"as":6090,"gc":29,"total":23403}},
{"id":17,"duration":{"as":6048,"gc":28,"total":23290}},
{"id":18,"duration":{"as":6027,"gc":26,"total":23261}},
{"id":19,"duration":{"as":6041,"gc":30,"total":23288}},
{"id":20,"duration":{"as":6032,"gc":27,"total":23243}},
{"id":21,"duration":{"as":6045,"gc":27,"total":23275}},
{"id":22,"duration":{"as":6043,"gc":27,"total":23250}},
{"id":23,"duration":{"as":6026,"gc":28,"total":23328}},
{"id":24,"duration":{"as":6257,"gc":0,"total":23470}},
{"id":25,"duration":{"as":5948,"gc":28,"total":23126}},
{"id":26,"duration":{"as":6014,"gc":29,"total":23203}},
{"id":27,"duration":{"as":5278,"gc":37,"total":22615}},
{"id":28,"duration":{"as":7942,"gc":35,"total":25194}},
{"id":29,"duration":{"as":5075,"gc":35,"total":22341}},
{"id":30,"duration":{"as":7949,"gc":33,"total":25230}},
{"id":31,"duration":{"as":7631,"gc":0,"total":7788}},
{"id":32,"duration":{"as":3895,"gc":18,"total":4015}},
{"id":33,"duration":{"as":3945,"gc":18,"total":5104}},
{"id":34,"duration":{"as":4261,"gc":21,"total":17436}},
{"id":35,"duration":{"as":7313,"gc":34,"total":15566}},
{"id":36,"duration":{"as":6672,"gc":0,"total":16884}},
{"id":37,"duration":{"as":7437,"gc":35,"total":17734}},
{"id":38,"duration":{"as":7336,"gc":0,"total":15583}},
{"id":39,"duration":{"as":4650,"gc":35,"total":16925}},
{"id":40,"duration":{"as":8048,"gc":36,"total":17344}},
{"id":41,"duration":{"as":6415,"gc":28,"total":15617}},
{"id":42,"duration":{"as":6578,"gc":35,"total":16870}},
{"id":43,"duration":{"as":7935,"gc":39,"total":17219}},
{"id":44,"duration":{"as":7939,"gc":34,"total":16204}},
{"id":45,"duration":{"as":7939,"gc":34,"total":17210}},
{"id":46,"duration":{"as":6898,"gc":18,"total":16119}},
{"id":47,"duration":{"as":6180,"gc":35,"total":16527}},
{"id":48,"duration":{"as":7981,"gc":36,"total":17293}},
{"id":49,"duration":{"as":8475,"gc":65,"total":16825}},
{"id":50,"duration":{"as":4080,"gc":28,"total":15314}},
{"id":51,"duration":{"as":3959,"gc":25,"total":17160}},
{"id":52,"duration":{"as":4323,"gc":27,"total":38537}},
{"id":53,"duration":{"as":3875,"gc":24,"total":34071}},
{"id":54,"duration":{"as":3921,"gc":25,"total":33125}},
{"id":55,"duration":{"as":3909,"gc":24,"total":32067}},
{"id":56,"duration":{"as":3908,"gc":25,"total":34165}},
{"id":57,"duration":{"as":3877,"gc":25,"total":33060}},
{"id":58,"duration":{"as":3880,"gc":24,"total":33105}},
{"id":59,"duration":{"as":3890,"gc":23,"total":34109}},
{"id":60,"duration":{"as":3912,"gc":24,"total":33094}},
{"id":61,"duration":{"as":3896,"gc":23,"total":33100}},
{"id":62,"duration":{"as":3895,"gc":24,"total":34095}},
{"id":63,"duration":{"as":3913,"gc":24,"total":33111}},
{"id":64,"duration":{"as":3954,"gc":25,"total":32157}},
{"id":65,"duration":{"as":3846,"gc":25,"total":34046}},
{"id":66,"duration":{"as":3912,"gc":24,"total":33135}},
{"id":67,"duration":{"as":3922,"gc":25,"total":33137}},
{"id":68,"duration":{"as":3882,"gc":24,"total":34066}},
{"id":69,"duration":{"as":3968,"gc":32,"total":33181}},
{"id":70,"duration":{"as":3950,"gc":24,"total":33111}},
{"id":71,"duration":{"as":3921,"gc":35,"total":34180}},
{"id":72,"duration":{"as":3938,"gc":24,"total":32115}},
{"id":73,"duration":{"as":3857,"gc":24,"total":33112}},
{"id":74,"duration":{"as":3909,"gc":24,"total":34150}},
{"id":75,"duration":{"as":3907,"gc":25,"total":33095}},
{"id":76,"duration":{"as":3888,"gc":23,"total":33108}},
{"id":77,"duration":{"as":3899,"gc":30,"total":34203}},
{"id":78,"duration":{"as":6978,"gc":24,"total":33192}},
{"id":79,"duration":{"as":7049,"gc":49,"total":32403}},
{"id":80,"duration":{"as":7896,"gc":48,"total":34401}},
{"id":81,"duration":{"as":7985,"gc":65,"total":33408}},
{"id":82,"duration":{"as":6469,"gc":26,"total":24664}},
{"id":83,"duration":{"as":5914,"gc":34,"total":16132}},
{"id":84,"duration":{"as":7881,"gc":109,"total":17516}},
{"id":85,"duration":{"as":7808,"gc":24,"total":16055}},
{"id":86,"duration":{"as":7284,"gc":95,"total":16745}},
{"id":87,"duration":{"as":9806,"gc":25,"total":16151}},
{"id":88,"duration":{"as":3876,"gc":25,"total":17056}},
{"id":89,"duration":{"as":13591,"gc":25,"total":15801}},
{"id":90,"duration":{"as":3919,"gc":24,"total":17075}},
{"id":91,"duration":{"as":4515,"gc":65,"total":16891}},
{"id":92,"duration":{"as":11525,"gc":25,"total":16719}},
{"id":93,"duration":{"as":3895,"gc":23,"total":17090}},
{"id":94,"duration":{"as":12694,"gc":97,"total":17314}},
{"id":95,"duration":{"as":7721,"gc":24,"total":14955}},
{"id":96,"duration":{"as":3876,"gc":23,"total":17037}},
{"id":97,"duration":{"as":5008,"gc":102,"total":17682}},
{"id":98,"duration":{"as":8360,"gc":23,"total":15666}},
{"id":99,"duration":{"as":6877,"gc":62,"total":17329}},
{"id":100,"duration":{"as":9504,"gc":24,"total":16744}},
{"id":101,"duration":{"as":3856,"gc":24,"total":16038}},
{"id":102,"duration":{"as":13713,"gc":26,"total":16923}},
{"id":103,"duration":{"as":3998,"gc":23,"total":17284}},
{"id":104,"duration":{"as":14488,"gc":25,"total":15742}},
{"id":105,"duration":{"as":3896,"gc":23,"total":17118}},
{"id":106,"duration":{"as":6890,"gc":25,"total":17083}},
{"id":107,"duration":{"as":3871,"gc":115,"total":15328}},
{"id":108,"duration":{"as":10622,"gc":24,"total":16839}},
{"id":109,"duration":{"as":4064,"gc":66,"total":17438}},
{"id":110,"duration":{"as":11527,"gc":24,"total":15791}},
{"id":111,"duration":{"as":3880,"gc":24,"total":17079}},
{"id":112,"duration":{"as":11073,"gc":93,"total":17698}},
{"id":113,"duration":{"as":8085,"gc":25,"total":15310}},
{"id":114,"duration":{"as":3846,"gc":24,"total":17057}},
{"id":115,"duration":{"as":5252,"gc":107,"total":17899}},
{"id":116,"duration":{"as":8104,"gc":37,"total":15439}},
{"id":117,"duration":{"as":7167,"gc":66,"total":16593}},
{"id":118,"duration":{"as":9669,"gc":25,"total":16951}},
{"id":119,"duration":{"as":3926,"gc":24,"total":16112}},
{"id":120,"duration":{"as":13440,"gc":24,"total":16621}},
{"id":121,"duration":{"as":3853,"gc":30,"total":17046}},
{"id":122,"duration":{"as":6469,"gc":77,"total":16912}},
{"id":123,"duration":{"as":10256,"gc":25,"total":16516}},
{"id":124,"duration":{"as":3835,"gc":24,"total":17047}},
{"id":125,"duration":{"as":13431,"gc":32,"total":15636}},
{"id":126,"duration":{"as":3873,"gc":24,"total":17088}},
{"id":127,"duration":{"as":4624,"gc":61,"total":17107}},
{"id":128,"duration":{"as":11820,"gc":0,"total":16213}},
{"id":129,"duration":{"as":3853,"gc":29,"total":17113}},
{"id":130,"duration":{"as":12322,"gc":72,"total":16952}},
{"id":131,"duration":{"as":6088,"gc":26,"total":15412}},
{"id":132,"duration":{"as":6601,"gc":0,"total":17883}},
{"id":133,"duration":{"as":6286,"gc":72,"total":16766}},
{"id":134,"duration":{"as":7906,"gc":0,"total":16210}},
{"id":135,"duration":{"as":8388,"gc":60,"total":17006}},
{"id":136,"duration":{"as":8958,"gc":29,"total":16315}},
{"id":137,"duration":{"as":3858,"gc":0,"total":16297}},
{"id":138,"duration":{"as":15211,"gc":48,"total":17504}},
{"id":139,"duration":{"as":3961,"gc":23,"total":16176}},
{"id":140,"duration":{"as":3897,"gc":28,"total":16169}},
{"id":141,"duration":{"as":4079,"gc":0,"total":17436}},
{"id":142,"duration":{"as":3887,"gc":28,"total":17167}},
{"id":143,"duration":{"as":3891,"gc":0,"total":15092}},
{"id":144,"duration":{"as":3957,"gc":18,"total":17124}},
{"id":145,"duration":{"as":3867,"gc":0,"total":17087}},
{"id":146,"duration":{"as":3955,"gc":19,"total":16168}},
{"id":147,"duration":{"as":3965,"gc":0,"total":17190}},
{"id":148,"duration":{"as":3960,"gc":19,"total":17123}},
{"id":149,"duration":{"as":3940,"gc":18,"total":16145}},
{"id":150,"duration":{"as":3968,"gc":0,"total":16215}},
{"id":151,"duration":{"as":3920,"gc":0,"total":17133}},
{"id":152,"duration":{"as":3925,"gc":0,"total":16120}},
{"id":153,"duration":{"as":3979,"gc":0,"total":17264}},
{"id":154,"duration":{"as":3836,"gc":0,"total":17298}},
{"id":155,"duration":{"as":3962,"gc":0,"total":15149}},
{"id":156,"duration":{"as":3962,"gc":0,"total":17188}},
{"id":157,"duration":{"as":3976,"gc":0,"total":17189}},
{"id":158,"duration":{"as":4066,"gc":20,"total":16236}},
{"id":159,"duration":{"as":3948,"gc":0,"total":17189}},
{"id":160,"duration":{"as":3839,"gc":0,"total":16331}},
{"id":161,"duration":{"as":13825,"gc":21,"total":16095}},
{"id":162,"duration":{"as":3941,"gc":0,"total":17097}},
{"id":163,"duration":{"as":5012,"gc":117,"total":17424}},
{"id":164,"duration":{"as":11112,"gc":20,"total":15294}},
{"id":165,"duration":{"as":3960,"gc":18,"total":17163}},
{"id":166,"duration":{"as":11023,"gc":74,"total":17633}},
{"id":167,"duration":{"as":8150,"gc":0,"total":15389}},
{"id":168,"duration":{"as":3968,"gc":18,"total":17214}},
{"id":169,"duration":{"as":6009,"gc":90,"total":17551}},
{"id":170,"duration":{"as":7851,"gc":0,"total":15085}},
{"id":171,"duration":{"as":6049,"gc":46,"total":17510}},
{"id":172,"duration":{"as":10575,"gc":28,"total":16897}},
{"id":173,"duration":{"as":3834,"gc":0,"total":16034}},
{"id":174,"duration":{"as":12785,"gc":0,"total":17060}},
{"id":175,"duration":{"as":4048,"gc":0,"total":17229}},
{"id":176,"duration":{"as":9622,"gc":69,"total":16123}},
{"id":177,"duration":{"as":8052,"gc":30,"total":16381}},
{"id":178,"duration":{"as":6731,"gc":0,"total":16984}},
{"id":179,"duration":{"as":13588,"gc":0,"total":15768}},
{"id":180,"duration":{"as":3875,"gc":57,"total":17168}},
{"id":181,"duration":{"as":4567,"gc":66,"total":16971}},
{"id":182,"duration":{"as":11449,"gc":0,"total":15660}},
{"id":183,"duration":{"as":3850,"gc":0,"total":17124}},
{"id":184,"duration":{"as":10150,"gc":65,"total":17762}},
{"id":185,"duration":{"as":8376,"gc":0,"total":15634}},
{"id":186,"duration":{"as":3854,"gc":0,"total":17087}},
{"id":187,"duration":{"as":5978,"gc":74,"total":17560}},
{"id":188,"duration":{"as":7935,"gc":0,"total":15169}},
{"id":189,"duration":{"as":6420,"gc":49,"total":17866}},
{"id":190,"duration":{"as":10242,"gc":0,"total":16520}},
{"id":191,"duration":{"as":3854,"gc":0,"total":16046}},
{"id":192,"duration":{"as":12814,"gc":28,"total":17064}},
{"id":193,"duration":{"as":3850,"gc":0,"total":17119}},
{"id":194,"duration":{"as":9678,"gc":64,"total":16208}},
{"id":195,"duration":{"as":8013,"gc":44,"total":16383}},
{"id":196,"duration":{"as":6691,"gc":24,"total":16941}},
{"id":197,"duration":{"as":13443,"gc":24,"total":15671}},
{"id":198,"duration":{"as":3956,"gc":25,"total":17402}},
{"id":199,"duration":{"as":5460,"gc":25,"total":16783}},
{"id":200,"duration":{"as":3907,"gc":21,"total":16079}}
];
var hzoom = 5;
for (var i=0; i<frames.length; i++) {
  var d = document.createElement('div');
  d.className = "frame frame-idle";
  d.style.height = Math.floor(hzoom*frames[i].duration.total/1000)+"px";
  d.style.left = Math.floor(frames[i].id*8)+"px";
  document.getElementById('fc').appendChild(d);

  // gc duration
  var d = document.createElement('div');
  var h = Math.floor(hzoom*frames[i].duration.gc/1000);
  d.className = "frame frame-gc";
  d.style.height = h+"px";
  d.style.left = Math.floor(frames[i].id*8)+"px";
  document.getElementById('fc').appendChild(d);

  // as duration
  var d = document.createElement('div');
  d.style.bottom = h+"px";
  h = Math.floor(hzoom*frames[i].duration.as/1000);
  d.className = "frame frame-as";
  d.style.height = h+"px";
  d.style.left = Math.floor(frames[i].id*8)+"px";
  document.getElementById('fc').appendChild(d);
}
</script>
</html>
